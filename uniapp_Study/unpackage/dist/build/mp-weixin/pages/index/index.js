"use strict";const e=require("../../common/vendor.js"),s={data:()=>({houseDescription:"",imageList:[],maxImages:30,maxSelectImages:9}),methods:{chooseAndUploadImages(){if(this.imageList.length>=this.maxImages)return void e.wx$1.showToast({title:"最多只能选择30张图片",icon:"none"});const s=this.maxSelectImages-this.imageList.length%this.maxSelectImages;e.wx$1.chooseImage({count:s,sizeType:["original","compressed"],sourceType:["album","camera"],success:e=>{e.tempFilePaths.filter((e=>!this.imageList.includes(e))).forEach(((e,s)=>{this.imageList.length<this.maxImages&&this.compressImage(e,(e=>{this.imageList.push(e)}))}))}})},compressImage(s,t){e.wx$1.compressImage({src:s,quality:80,success:e=>{t(e.tempFilePath)},fail:e=>{console.error("压缩图片失败",e),t(s)}})},deleteImage(e){this.imageList.splice(e,1)},generateVideo(){}}};const t=e._export_sfc(s,[["render",function(s,t,i,a,o,m){return e.e({a:o.houseDescription,b:e.o((e=>o.houseDescription=e.detail.value)),c:o.imageList.length>0},o.imageList.length>0?{d:e.f(o.imageList,((s,t,i)=>({a:s,b:e.o((e=>m.deleteImage(t)),t),c:t})))}:{},{e:e.o(((...e)=>m.chooseAndUploadImages&&m.chooseAndUploadImages(...e))),f:e.o(((...e)=>m.generateVideo&&m.generateVideo(...e)))})}]]);wx.createPage(t);
